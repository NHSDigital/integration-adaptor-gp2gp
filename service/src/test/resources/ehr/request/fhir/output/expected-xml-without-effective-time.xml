<EhrExtract classCode="EXTRACT" moodCode="EVN">
    <id root="test-id-1" />
    <statusCode code="COMPLETE" />
    <availabilityTime value="20200101010101" />
    <recordTarget typeCode="RCT">
        <patient classCode="PAT">
            <id root="2.16.840.1.113883.2.1.4.1" extension="1234567890" />
        </patient>
    </recordTarget>
    <author typeCode="AUT">
        <time value="20200101010101" />
        <AgentOrgSDS classCode="AGNT">
            <agentOrganizationSDS classCode="ORG" determinerCode="INSTANCE">
                <id root="1.2.826.0.1285.0.1.10" extension="test-to-ods-code" />
            </agentOrganizationSDS>
        </AgentOrgSDS>
    </author>
    <destination typeCode="DST">
        <AgentOrgSDS classCode="AGNT">
            <agentOrganizationSDS classCode="ORG" determinerCode="INSTANCE">
                <id root="1.2.826.0.1285.0.1.10" extension="test-from-ods-code" />
            </agentOrganizationSDS>
        </AgentOrgSDS>
    </destination>
    <component typeCode="COMP">
        <ehrFolder classCode="FOLDER" moodCode="EVN">
            <id root="test-id-2" />
            <statusCode code="COMPLETE" />
            <effectiveTime>
                <center nullFlavor="UNK"/>
            </effectiveTime>
            <availabilityTime value="20200101010101" />
            <author typeCode="AUT">
                <time value="20200101010101" />
                <AgentOrgSDS classCode="AGNT">
                    <agentOrganizationSDS classCode="ORG" determinerCode="INSTANCE">
                        <id root="1.2.826.0.1285.0.1.10" extension="test-to-ods-code" />
                    </agentOrganizationSDS>
                </AgentOrgSDS>
            </author>
            <responsibleParty>
    <agentDirectory>
        <code nullFlavor="UNK"><originalText>Mocked code</originalText></code>
            <part partCode="PART">
    <Agent classCode="AGNT">
        <id root="test-id-3"/>
        <agentPerson classCode="PSN" determinerCode="INSTANCE">
            <name>
                <prefix>Dr</prefix>
                <given>David</given>
                <family>McAvenue</family>
            </name>
        </agentPerson>
    </Agent>
</part>
    </agentDirectory>
</responsibleParty>
                <component typeCode="COMP">
    <ehrComposition classCode="COMPOSITION" moodCode="EVN">
        <id root="test-id-3" />
        <code code="25741000000100" displayName="Third Party Consultation" codeSystem="2.16.840.1.113883.2.1.3.2.4.15">
            <originalText>GP Surgery</originalText>
        </code>
        <statusCode code="COMPLETE" />
        <effectiveTime>
            <center nullFlavor="UNK"/>
        </effectiveTime>
        <availabilityTime nullFlavor="UNK"/>
        <author typeCode="AUT" contextControlCode="OP">
            <time value="" />
            <agentRef classCode="AGNT">
                <id root="test-id-3" />
            </agentRef>
        </author>
        <location typeCode="LOC">
            <locatedEntity classCode="LOCE">
                <code code="394730007" codeSystem="2.16.840.1.113883.2.1.3.2.4.15" displayName="Healthcare related organisation" />
                <locatedPlace classCode="PLC" determinerCode="INSTANCE">
                    <name>Branch Surgery Rhing</name>
                </locatedPlace>
            </locatedEntity>
        </location>
        <Participant2 typeCode="PPRF" contextControlCode="OP">
            <agentRef classCode="AGNT">
                <id root="test-id-3"/>
            </agentRef>
        </Participant2>
        
    </ehrComposition>
</component>
                <component typeCode="COMP">
    <ehrComposition classCode="COMPOSITION" moodCode="EVN">
        <id root="test-id-3" />
        <code code="196401000000100" displayName="Non-consultation data" codeSystem="2.16.840.1.113883.2.1.3.2.4.15"/>
        <statusCode code="COMPLETE" />
        <effectiveTime>
            <center nullFlavor="UNK"/>
        </effectiveTime>
        <availabilityTime value="20100114095757"/>
        <author typeCode="AUT" contextControlCode="OP">
            <time value="20100114095757" />
            <agentRef classCode="AGNT">
                <id root="" />
            </agentRef>
        </author>
        <location typeCode="LOC">
            <locatedEntity classCode="LOCE">
                <code code="394730007" codeSystem="2.16.840.1.113883.2.1.3.2.4.15" displayName="Healthcare related organisation" />
                <locatedPlace classCode="PLC" determinerCode="INSTANCE">
                    <name>Branch Surgery Rhing</name>
                </locatedPlace>
            </locatedEntity>
        </location>
        <Participant2 typeCode="PPRF" contextControlCode="OP">
            <agentRef classCode="AGNT">
                <id root=""/>
            </agentRef>
        </Participant2>
        <component typeCode="COMP">
    <CompoundStatement classCode="CATEGORY" moodCode="EVN">
        <id root="test-id-3"/>
        <statusCode code="COMPLETE"/>
        <code code="14L...00" codeSystem="2.16.840.1.113883.2.1.6.2" displayName="H/O: drug allergy"/>
        <effectiveTime>
            <center nullFlavor="UNK"/>
        </effectiveTime>
        <availabilityTime value="20100114095757" />
        <component typeCode="COMP" contextConductionInd="true">
            <ObservationStatement classCode="OBS" moodCode="ENV">
                <id root="test-id-3"/>
                <statusCode code="COMPLETE"/>
                <effectiveTime>
                    <center nullFlavor="UNK"/>
                </effectiveTime>
                <availabilityTime value="20100114095757" />
                <pertinentInformation typeCode="PERT">
                    <sequenceNumber value="+1"/>
                    <pertinentAnnotation classCode="OBS" moodCode="EVN">
                        <text></text>
                    </pertinentAnnotation>
                </pertinentInformation>
                <code nullFlavor="UNK"><originalText>Mocked code</originalText></code>
            </ObservationStatement>
        </component>
    </CompoundStatement>
</component>
    </ehrComposition>
</component>
        </ehrFolder>
    </component>
    <inFulfillmentOf typeCode="FLFS">
        <priorEhrRequest classCode="EXTRACT" moodCode="RQO">
            <id root="test-request-id" />
        </priorEhrRequest>
    </inFulfillmentOf>
    <limitation typeCode="LIMIT" inversionInd="true">
        <limitingEhrExtractSpecification classCode="OBS" moodCode="DEF">
            <id root="76C49C11-5271-11EA-9384-E83935108FD5" />
            <code code="37241000000102" codeSystem="2.16.840.1.113883.2.1.3.2.4.15" displayName="Entire record available to originator (administrative concept)" />
        </limitingEhrExtractSpecification>
    </limitation>
</EhrExtract>
