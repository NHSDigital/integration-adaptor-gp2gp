package uk.nhs.adaptors.gp2gp.ehr;

import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.extension.ExtendWith;
import org.mockito.Mock;
import org.mockito.junit.jupiter.MockitoExtension;
import uk.nhs.adaptors.gp2gp.common.storage.StorageConnectorService;
import uk.nhs.adaptors.gp2gp.common.storage.StorageDataWrapper;
import uk.nhs.adaptors.gp2gp.ehr.model.EhrExtractStatus;
import uk.nhs.adaptors.gp2gp.mhs.MhsClient;
import uk.nhs.adaptors.gp2gp.mhs.MhsRequestBuilder;


import java.util.ArrayList;
import java.util.Map;

import static org.mockito.ArgumentMatchers.any;
import static org.mockito.ArgumentMatchers.eq;
import static org.mockito.Mockito.verify;
import static org.mockito.Mockito.when;

@ExtendWith(MockitoExtension.class)
class SendEhrExtractCoreTaskExecutorTest {
    @Mock private EhrExtractStatusService ehrExtractStatusService;
    @Mock private MhsClient mhsClient;
    @Mock private MhsRequestBuilder mhsRequestBuilder;
    @Mock private SendAcknowledgementTaskDispatcher sendAcknowledgementTaskDispatcher;
    @Mock private StorageConnectorService storageConnectorService;


    @Test
    void When_EhrExtractContainsLengthPlaceholders_Expect_PlaceholdersAreReplaced() {
        // Arrange
        when(this.ehrExtractStatusService.fetchDocumentObjectNameAndSize("this-is-a-conversation-id")).thenReturn(
            Map.of("LENGTH_PLACEHOLDER_ID=655C2115-D70A-4A28-9EBD-16384909D5F4", "15608")
        );
        when(this.storageConnectorService.downloadFile("this-is-a-conversation-id/this-is-a-conversation-id_gpc_structured.json")).thenReturn(
            StorageDataWrapper.builder().data("{\"payload\":\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\\n<RCMR_IN030000UK06 xmlns=\\\"urn:hl7-org:v3\\\" xmlns:xsi=\\\"http://www.w3.org/2001/XMLSchema-instance\\\" xsi:schemaLocation=\\\"urn:hl7-org:v3 ..\\\\Schemas\\\\RCMR_IN030000UK06.xsd\\\">\\n    <id root=\\\"E5A42EB4-7123-4365-A48D-E414010F2B0A\\\" />\\n    <creationTime value=\\\"20240125115036\\\" />\\n    <versionCode code=\\\"V3NPfIT3.1.10\\\" />\\n    <interactionId root=\\\"2.16.840.1.113883.2.1.3.2.4.12\\\" extension=\\\"RCMR_IN030000UK06\\\" />\\n    <processingCode code=\\\"P\\\" />\\n    <processingModeCode code=\\\"T\\\" />\\n    <acceptAckCode code=\\\"NE\\\" />\\n    <communicationFunctionRcv typeCode=\\\"RCV\\\">\\n        <device classCode=\\\"DEV\\\" determinerCode=\\\"INSTANCE\\\">\\n            <id root=\\\"1.2.826.0.1285.0.2.0.107\\\" extension=\\\"{{fromAsid}}\\\" />\\n        </device>\\n    </communicationFunctionRcv>\\n    <communicationFunctionSnd typeCode=\\\"SND\\\">\\n        <device classCode=\\\"DEV\\\" determinerCode=\\\"INSTANCE\\\">\\n            <id root=\\\"1.2.826.0.1285.0.2.0.107\\\" extension=\\\"{{toAsid}}\\\" />\\n        </device>\\n    </communicationFunctionSnd>\\n    <ControlActEvent classCode=\\\"CACT\\\" moodCode=\\\"EVN\\\">\\n        <author1 typeCode=\\\"AUT\\\">\\n            <AgentSystemSDS classCode=\\\"AGNT\\\">\\n                <agentSystemSDS classCode=\\\"DEV\\\" determinerCode=\\\"INSTANCE\\\">\\n                    <id root=\\\"1.2.826.0.1285.0.2.0.107\\\" extension=\\\"{{toAsid}}\\\" />\\n                </agentSystemSDS>\\n            </AgentSystemSDS>\\n        </author1>\\n        <subject typeCode=\\\"SUBJ\\\" contextConductionInd=\\\"false\\\">\\n            <EhrExtract classCode=\\\"EXTRACT\\\" moodCode=\\\"EVN\\\">\\n    <id root=\\\"F506A596-BB56-4390-A6A0-DD3522A71198\\\" />\\n    <statusCode code=\\\"COMPLETE\\\" />\\n    <availabilityTime value=\\\"20240125115032\\\" />\\n    <recordTarget typeCode=\\\"RCT\\\">\\n        <patient classCode=\\\"PAT\\\">\\n            <id root=\\\"2.16.840.1.113883.2.1.4.1\\\" extension=\\\"9690937420\\\" />\\n        </patient>\\n    </recordTarget>\\n    <author typeCode=\\\"AUT\\\">\\n        <time value=\\\"20240125115032\\\" />\\n        <AgentOrgSDS classCode=\\\"AGNT\\\">\\n            <agentOrganizationSDS classCode=\\\"ORG\\\" determinerCode=\\\"INSTANCE\\\">\\n                <id root=\\\"1.2.826.0.1285.0.1.10\\\" extension=\\\"{{toOds}}\\\" />\\n            </agentOrganizationSDS>\\n        </AgentOrgSDS>\\n    </author>\\n    <destination typeCode=\\\"DST\\\">\\n        <AgentOrgSDS classCode=\\\"AGNT\\\">\\n            <agentOrganizationSDS classCode=\\\"ORG\\\" determinerCode=\\\"INSTANCE\\\">\\n                <id root=\\\"1.2.826.0.1285.0.1.10\\\" extension=\\\"{{fromOds}}\\\" />\\n            </agentOrganizationSDS>\\n        </AgentOrgSDS>\\n    </destination>\\n    <component typeCode=\\\"COMP\\\">\\n        <ehrFolder classCode=\\\"FOLDER\\\" moodCode=\\\"EVN\\\">\\n            <id root=\\\"76441281-D187-4E5E-B200-5BF997D5AA4B\\\" />\\n            <statusCode code=\\\"COMPLETE\\\" />\\n            <effectiveTime>\\n                <low value=\\\"19620812000000\\\"/><high value=\\\"20190601113800\\\"/>\\n            </effectiveTime>\\n            <availabilityTime value=\\\"20240125115032\\\" />\\n            <author typeCode=\\\"AUT\\\">\\n                <time value=\\\"20240125115032\\\" />\\n                <AgentOrgSDS classCode=\\\"AGNT\\\">\\n                    <agentOrganizationSDS classCode=\\\"ORG\\\" determinerCode=\\\"INSTANCE\\\">\\n                        <id root=\\\"1.2.826.0.1285.0.1.10\\\" extension=\\\"{{toOds}}\\\" />\\n                    </agentOrganizationSDS>\\n                </AgentOrgSDS>\\n            </author>\\n            <responsibleParty typeCode=\\\"RESP\\\">\\n    <agentDirectory classCode=\\\"AGNT\\\">\\n        <part typeCode=\\\"PART\\\">\\n    <Agent classCode=\\\"AGNT\\\">\\n        <id root=\\\"D7E50379-21B5-4162-B993-4788DBC73A1C\\\"/>\\n        <code nullFlavor=\\\"UNK\\\">\\n            <originalText>Unknown</originalText>\\n        </code>\\n        <agentPerson classCode=\\\"PSN\\\" determinerCode=\\\"INSTANCE\\\">\\n            <name>\\n                <family>COXWOLD SURGERY</family>\\n            </name>\\n        </agentPerson>\\n    </Agent>\\n</part>\\n            <part typeCode=\\\"PART\\\">\\n    <Agent classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n        <code nullFlavor=\\\"UNK\\\">\\n            <originalText>General Medical Practitioner</originalText>\\n        </code>\\n        <agentPerson classCode=\\\"PSN\\\" determinerCode=\\\"INSTANCE\\\">\\n            <name>\\n                <prefix>Miss</prefix>\\n                <given>Nichole</given>\\n                <family>Gilbert</family>\\n            </name>\\n        </agentPerson>\\n        <representedOrganization classCode=\\\"ORG\\\" determinerCode=\\\"INSTANCE\\\">\\n                        <name>COXWOLD SURGERY</name>\\n            <telecom value=\\\"tel:12345678\\\" use=\\\"WP\\\"/>\\n            <addr use=\\\"WP\\\">\\n                <streetAddressLine>NHS NPFIT Test Data Manager</streetAddressLine>\\n                <streetAddressLine>Princes Exchange</streetAddressLine>\\n                <streetAddressLine>Leeds</streetAddressLine>\\n                <postalCode>LS1 4HY</postalCode>\\n            </addr>\\n        </representedOrganization>\\n    </Agent>\\n</part>\\n    </agentDirectory>\\n</responsibleParty>\\n                <component typeCode=\\\"COMP\\\">\\n    <ehrComposition classCode=\\\"COMPOSITION\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"279292E8-2D40-4476-BB1D-F4464387D82E\\\" />\\n        <code code=\\\"24591000000103\\\" displayName=\\\"Other report\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\">\\n            <originalText>Surgery Consultation</originalText>\\n        </code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <author typeCode=\\\"AUT\\\" contextControlCode=\\\"OP\\\">\\n            <time value=\\\"20190328103000\\\" />\\n            <agentRef classCode=\\\"AGNT\\\">\\n                <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\" />\\n            </agentRef>\\n        </author>\\n        <Participant2 typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n            <agentRef classCode=\\\"AGNT\\\">\\n                <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n            </agentRef>\\n        </Participant2>\\n        <component typeCode=\\\"COMP\\\">\\n    <CompoundStatement classCode=\\\"TOPIC\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"E4847399-4576-48DD-B4FC-79096BBB0CAB\\\"/>\\n        <code code=\\\"231504006\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Mixed anxiety and depressive disorder\\\">\\n    <originalText>Anxiety with Depression</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" contextConductionInd=\\\"true\\\">\\n    <CompoundStatement classCode=\\\"CATEGORY\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"86C35DD6-9BF9-47FC-8696-9E47BCB2FBE1\\\"/>\\n        <code code=\\\"394841004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Other category\\\">\\n    <originalText>History</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" >\\n    <NarrativeStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"CE172EE5-60A3-4C9A-86EC-481B05E3AAAB\\\" />\\n        <text>Come for review. Overall doing better. Mood still low but improving. More good days than bad. Energy levels ok. Motivation improving. Support from neighbour visits daily</text>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <availabilityTime value=\\\"20190328103000\\\" />\\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </NarrativeStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"CC521ADC-C543-41E5-A9EB-91EA5EDDED1B\\\" />\\n        <code code=\\\"231504006\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Mixed anxiety and depressive disorder\\\">\\n    <originalText>Anxiety with depression</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        \\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text></text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component>\\n    </CompoundStatement>\\n</component><component typeCode=\\\"COMP\\\" contextConductionInd=\\\"true\\\">\\n    <CompoundStatement classCode=\\\"CATEGORY\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"556827DD-60E9-4A68-9A4A-77A526C44AB4\\\"/>\\n        <code code=\\\"394841004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Other category\\\">\\n    <originalText>Examination</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" >\\n    <NarrativeStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"0D2672D2-3449-46D0-B6D4-BB972649CBEF\\\" />\\n        <text>MSE euthymic. Not anxious. No DSH/hallucinations/abnormal thoughts</text>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <availabilityTime value=\\\"20190328103000\\\" />\\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </NarrativeStatement>\\n</component>\\n    </CompoundStatement>\\n</component><component typeCode=\\\"COMP\\\" contextConductionInd=\\\"true\\\">\\n    <CompoundStatement classCode=\\\"CATEGORY\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"6B5BFC4D-07DB-42B4-9C4C-2DA68B2ECDBA\\\"/>\\n        <code code=\\\"394841004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Other category\\\">\\n    <originalText>Social</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"FC35180E-C6F6-44D6-B75B-014678A360A6\\\" />\\n        <code code=\\\"266919005\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Never smoked tobacco\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        \\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text></text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"8CB33E9A-4416-4E3F-A126-67B7AB9F9467\\\" />\\n        <code code=\\\"1082641000000106\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Alcohol units consumed per week\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <value xsi:type=\\\"PQ\\\" value=\\\"0\\\" unit=\\\"1\\\"><translation value=\\\"0\\\"><originalText>units/week</originalText></translation></value>\\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text></text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component>\\n    </CompoundStatement>\\n</component><component typeCode=\\\"COMP\\\" contextConductionInd=\\\"true\\\">\\n    <CompoundStatement classCode=\\\"CATEGORY\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"6B2577FB-0F52-4DC9-8765-EDC281579964\\\"/>\\n        <code code=\\\"394841004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Other category\\\">\\n    <originalText>Plan</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\">\\n    <MedicationStatement classCode=\\\"SBADM\\\" moodCode=\\\"INT\\\">\\n        <id root=\\\"016D174E-A91C-4981-8237-56392547539E\\\"/>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328\\\"/><high value=\\\"20190425\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328\\\"/>\\n        <consumable typeCode=\\\"CSM\\\">\\n            <manufacturedProduct classCode=\\\"MANU\\\">\\n                <manufacturedMaterial determinerCode=\\\"KIND\\\" classCode=\\\"MMAT\\\">\\n                    <code code=\\\"321987003\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Citalopram 20mg tablets\\\">\\n</code>\\n                </manufacturedMaterial>\\n            </manufacturedProduct>\\n        </consumable>\\n        <component typeCode=\\\"COMP\\\">\\n            <ehrSupplyAuthorise>\\n                <id root=\\\"9185A4F0-606A-470F-A4FB-6CE3776C1AF9\\\"/>\\n                <code code=\\\"394823007\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"NHS Prescription\\\">\\n</code>\\n                <statusCode code=\\\"COMPLETE\\\"/>\\n                    <effectiveTime>\\n                        <low value=\\\"20190328\\\"/><high value=\\\"20190425\\\"/>\\n                    </effectiveTime>\\n                <availabilityTime value=\\\"20190328\\\"/>\\n                <repeatNumber value=\\\"0\\\"/>\\n                <quantity value=\\\"28\\\" unit=\\\"1\\\">\\n                    <translation value=\\\"28\\\">\\n                        <originalText>capsule(s)</originalText>\\n                    </translation>\\n                </quantity>\\n                <pertinentInformation typeCode=\\\"PERT\\\">\\n                    <pertinentSupplyAnnotation>\\n                        <text>Patient Instruction: INSTRUCTIONS FOR PATIENT Expected Supply Duration: 28 days Notes: Pharmacy Notes: NOTES FOR PHARMACY</text>\\n                    </pertinentSupplyAnnotation>\\n                </pertinentInformation>\\n            </ehrSupplyAuthorise>\\n        </component>\\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <pertinentMedicationDosage classCode=\\\"SBADM\\\" moodCode=\\\"RMD\\\">\\n                <text>TAKE ONE DAILY</text>\\n            </pertinentMedicationDosage>\\n        </pertinentInformation>\\n        <Participant typeCode=\\\"AUT\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </MedicationStatement>\\n</component><component typeCode=\\\"COMP\\\">\\n    <MedicationStatement classCode=\\\"SBADM\\\" moodCode=\\\"ORD\\\">\\n        <id root=\\\"499868D9-9E76-4185-A767-953EBFBC2224\\\"/>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328\\\"/><high value=\\\"20190425\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328\\\"/>\\n        <consumable typeCode=\\\"CSM\\\">\\n            <manufacturedProduct classCode=\\\"MANU\\\">\\n                <manufacturedMaterial determinerCode=\\\"KIND\\\" classCode=\\\"MMAT\\\">\\n                    <code code=\\\"321987003\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Citalopram 20mg tablets\\\">\\n</code>\\n                </manufacturedMaterial>\\n            </manufacturedProduct>\\n        </consumable>\\n        <component typeCode=\\\"COMP\\\">\\n            <ehrSupplyPrescribe>\\n                <id root=\\\"F7BE75F3-2DDE-47DE-A229-A67EC947E36D\\\"/>\\n                <code code=\\\"394823007\\\" displayName=\\\"NHS Prescription\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\"/>\\n                <statusCode code=\\\"COMPLETE\\\"/>\\n                <availabilityTime value=\\\"20190328\\\"/>\\n                <quantity value=\\\"28\\\" unit=\\\"1\\\">\\n                    <translation value=\\\"28\\\">\\n                        <originalText>capsule(s)</originalText>\\n                    </translation>\\n                </quantity>\\n                <inFulfillmentOf typeCode=\\\"FLFS\\\">\\n    <priorMedicationRef moodCode=\\\"INT\\\">\\n        <id root=\\\"9185A4F0-606A-470F-A4FB-6CE3776C1AF9\\\"/>\\n    </priorMedicationRef>\\n</inFulfillmentOf>\\n                <pertinentInformation typeCode=\\\"PERT\\\">\\n                    <pertinentSupplyAnnotation>\\n                        <text>Patient Instruction: INSTRUCTIONS FOR PATIENT Expected Supply Duration: 28 days Notes: NOTES FOR PHARMACY</text>\\n                    </pertinentSupplyAnnotation>\\n                </pertinentInformation>\\n            </ehrSupplyPrescribe>\\n        </component>\\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <pertinentMedicationDosage classCode=\\\"SBADM\\\" moodCode=\\\"RMD\\\">\\n                <text>TAKE ONE DAILY</text>\\n            </pertinentMedicationDosage>\\n        </pertinentInformation>\\n        <Participant typeCode=\\\"AUT\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </MedicationStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"767F6FBD-012E-4B1F-BB80-2334FD1A1C14\\\" />\\n        <code code=\\\"308931006\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Walking practice\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        \\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text>Advised re local walking group</text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component>\\n    </CompoundStatement>\\n</component>\\n    </CompoundStatement>\\n</component><component typeCode=\\\"COMP\\\">\\n    <CompoundStatement classCode=\\\"TOPIC\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"3C58B953-A996-4B53-A7EA-63B2120C8220\\\"/>\\n        <code code=\\\"449614009\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Swelling of lower limb\\\">\\n    <originalText>Swollen legs</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" contextConductionInd=\\\"true\\\">\\n    <CompoundStatement classCode=\\\"CATEGORY\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"33800176-C1C6-4083-8E6C-E39670444DE0\\\"/>\\n        <code code=\\\"394841004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Other category\\\">\\n    <originalText>History</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" >\\n    <NarrativeStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"EED94C34-9E85-4216-9709-238443304749\\\" />\\n        <text>2 months - bilateral swollen lower legs</text>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <availabilityTime value=\\\"20190328103000\\\" />\\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </NarrativeStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"A4937992-1DEE-4154-B0AB-0C974CFD06E7\\\" />\\n        <code code=\\\"449614009\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Swelling of lower limb\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        \\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text>Problem Info: Problem Notes: due to obesity and poor mobility and previous DVT</text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component>\\n    </CompoundStatement>\\n</component><component typeCode=\\\"COMP\\\" contextConductionInd=\\\"true\\\">\\n    <CompoundStatement classCode=\\\"CATEGORY\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"F99EE6A8-3161-4C30-922D-978943F5521E\\\"/>\\n        <code code=\\\"394841004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Other category\\\">\\n    <originalText>Examination</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"91FD2D4C-9773-4463-A41C-A86BB69F1735\\\" />\\n        <code code=\\\"703421000\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Temperature\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <value xsi:type=\\\"PQ\\\" value=\\\"36.7\\\" unit=\\\"C\\\"/>\\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text>Patient looks flushed</text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"010F7475-95CC-408E-871C-7FE462CD0887\\\" />\\n        <code code=\\\"1097811000000106\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Arterial oxygen saturation breathing room air at rest\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <value xsi:type=\\\"PQ\\\" value=\\\"96\\\" unit=\\\"%\\\"/>\\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text></text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"0949DCB1-9199-4DF0-8808-E00B753652A7\\\" />\\n        <code code=\\\"86290005\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Respiratory rate\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <value xsi:type=\\\"PQ\\\" value=\\\"16\\\" unit=\\\"breaths per minute\\\"/>\\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text>Chest clear</text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"2EBA6358-5DF0-47E3-9B4A-175F8070D71C\\\" />\\n        <code code=\\\"271637005\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Pulse irregularly irregular\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <value xsi:type=\\\"PQ\\\" value=\\\"70\\\" unit=\\\"per minute\\\"/>\\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text></text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <NarrativeStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"A47D4C1F-F2CB-45D8-9739-6ED55E19C49E\\\" />\\n        <text>Swelling lower legs bilaterally. Mild pitting oedema. Heart sounds normal. No distress. Abdomen normal. No cervical lymphadenopathy. Throat normal. Ears normal</text>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <availabilityTime value=\\\"20190328103000\\\" />\\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </NarrativeStatement>\\n</component>\\n    </CompoundStatement>\\n</component><component typeCode=\\\"COMP\\\" contextConductionInd=\\\"true\\\">\\n    <CompoundStatement classCode=\\\"CATEGORY\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"016AAA7D-E519-4923-AF82-4C811DEFF61F\\\"/>\\n        <code code=\\\"394841004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Other category\\\">\\n    <originalText>Plan</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" >\\n    <NarrativeStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"A4968F23-1AF0-42F0-9BB7-93068A797CC1\\\" />\\n        <text>Advice to mobilise more. Review with results.</text>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <availabilityTime value=\\\"20190328103000\\\" />\\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </NarrativeStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"AF312458-4415-4EE5-BA59-7AB59A002D24\\\" />\\n        <code code=\\\"46825001\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Electrocardiographic monitoring\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        \\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text></text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component>\\n    </CompoundStatement>\\n</component>\\n    </CompoundStatement>\\n</component><component typeCode=\\\"COMP\\\">\\n    <CompoundStatement classCode=\\\"TOPIC\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"0D519CEF-6C0C-4FD3-B5E6-7B1811F1F686\\\"/>\\n        <code code=\\\"394776006\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Unspecified problem\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"A0B2BE8B-C51A-4CFA-9F62-A1C5A5E8DD2C\\\" />\\n        <code code=\\\"413153004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Blood pressure recorded by patient at home\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        \\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text>average 150/90 last six weeks</text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"DC1522FB-CAA1-4AB2-A2B6-62F441674FB0\\\" />\\n        <code code=\\\"163020007\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"O/E - blood pressure reading\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        \\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text>Component(s): [Code: O/E Systolic BP reading Quantity Value: 130 mm[Hg]] [Code: O/E Diastolic BP reading Quantity Value: 72 mm[Hg]]</text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component><component typeCode=\\\"COMP\\\">\\n    <MedicationStatement classCode=\\\"SBADM\\\" moodCode=\\\"INT\\\">\\n        <id root=\\\"DBCB8176-4D9C-488A-9B8E-A9CDDBD7BCE7\\\"/>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328\\\"/><high value=\\\"20190425\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328\\\"/>\\n        <consumable typeCode=\\\"CSM\\\">\\n            <manufacturedProduct classCode=\\\"MANU\\\">\\n                <manufacturedMaterial determinerCode=\\\"KIND\\\" classCode=\\\"MMAT\\\">\\n                    <code code=\\\"319284000\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Amlodipine 10mg tablets\\\">\\n</code>\\n                </manufacturedMaterial>\\n            </manufacturedProduct>\\n        </consumable>\\n        <component typeCode=\\\"COMP\\\">\\n            <ehrSupplyAuthorise>\\n                <id root=\\\"6312446F-4491-4566-BCBD-FFD6C1428952\\\"/>\\n                <code code=\\\"394823007\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"NHS Prescription\\\">\\n</code>\\n                <statusCode code=\\\"COMPLETE\\\"/>\\n                    <effectiveTime>\\n                        <low value=\\\"20190328\\\"/><high value=\\\"20190425\\\"/>\\n                    </effectiveTime>\\n                <availabilityTime value=\\\"20190328\\\"/>\\n                <repeatNumber value=\\\"0\\\"/>\\n                <quantity value=\\\"28\\\" unit=\\\"1\\\">\\n                    <translation value=\\\"28\\\">\\n                        <originalText>tablet(s)</originalText>\\n                    </translation>\\n                </quantity>\\n                <pertinentInformation typeCode=\\\"PERT\\\">\\n                    <pertinentSupplyAnnotation>\\n                        <text>Patient Instruction: INSTRUCTIONS FOR PATIENT Expected Supply Duration: 28 days Notes: Pharmacy Notes: NOTES FOR PHARMACY</text>\\n                    </pertinentSupplyAnnotation>\\n                </pertinentInformation>\\n            </ehrSupplyAuthorise>\\n        </component>\\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <pertinentMedicationDosage classCode=\\\"SBADM\\\" moodCode=\\\"RMD\\\">\\n                <text>TAKE ONE DAILY</text>\\n            </pertinentMedicationDosage>\\n        </pertinentInformation>\\n        <Participant typeCode=\\\"AUT\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </MedicationStatement>\\n</component><component typeCode=\\\"COMP\\\">\\n    <MedicationStatement classCode=\\\"SBADM\\\" moodCode=\\\"ORD\\\">\\n        <id root=\\\"5BC73461-01B7-478F-8745-3A8E2919A0CB\\\"/>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328\\\"/><high value=\\\"20190425\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328\\\"/>\\n        <consumable typeCode=\\\"CSM\\\">\\n            <manufacturedProduct classCode=\\\"MANU\\\">\\n                <manufacturedMaterial determinerCode=\\\"KIND\\\" classCode=\\\"MMAT\\\">\\n                    <code code=\\\"319284000\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Amlodipine 10mg tablets\\\">\\n</code>\\n                </manufacturedMaterial>\\n            </manufacturedProduct>\\n        </consumable>\\n        <component typeCode=\\\"COMP\\\">\\n            <ehrSupplyPrescribe>\\n                <id root=\\\"D2103703-ED01-4CA7-A413-2B7E9B230FB9\\\"/>\\n                <code code=\\\"394823007\\\" displayName=\\\"NHS Prescription\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\"/>\\n                <statusCode code=\\\"COMPLETE\\\"/>\\n                <availabilityTime value=\\\"20190328\\\"/>\\n                <quantity value=\\\"28\\\" unit=\\\"1\\\">\\n                    <translation value=\\\"28\\\">\\n                        <originalText>tablet(s)</originalText>\\n                    </translation>\\n                </quantity>\\n                <inFulfillmentOf typeCode=\\\"FLFS\\\">\\n    <priorMedicationRef moodCode=\\\"INT\\\">\\n        <id root=\\\"6312446F-4491-4566-BCBD-FFD6C1428952\\\"/>\\n    </priorMedicationRef>\\n</inFulfillmentOf>\\n                <pertinentInformation typeCode=\\\"PERT\\\">\\n                    <pertinentSupplyAnnotation>\\n                        <text>Patient Instruction: INSTRUCTIONS FOR PATIENT Expected Supply Duration: 28 days Notes: NOTES FOR PHARMACY</text>\\n                    </pertinentSupplyAnnotation>\\n                </pertinentInformation>\\n            </ehrSupplyPrescribe>\\n        </component>\\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <pertinentMedicationDosage classCode=\\\"SBADM\\\" moodCode=\\\"RMD\\\">\\n                <text>TAKE ONE DAILY</text>\\n            </pertinentMedicationDosage>\\n        </pertinentInformation>\\n        <Participant typeCode=\\\"AUT\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </MedicationStatement>\\n</component>\\n    </CompoundStatement>\\n</component><component typeCode=\\\"COMP\\\">\\n    <CompoundStatement classCode=\\\"TOPIC\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"F4CF2A0F-810E-4E5F-8025-A7E400AB3C2D\\\"/>\\n        <code code=\\\"54150009\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Upper respiratory infection\\\">\\n    <originalText>Upper respiratory tract infection</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" contextConductionInd=\\\"true\\\">\\n    <CompoundStatement classCode=\\\"CATEGORY\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"1CDA235C-BD52-477A-9D37-843050FB7873\\\"/>\\n        <code code=\\\"394841004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Other category\\\">\\n    <originalText>History</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" >\\n    <NarrativeStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"E42211C8-13B7-47B1-8736-2CC5F5272C94\\\" />\\n        <text>2 weeks cough - white sputum - no blood, 1 week nose running, 5 days sore throat, No shortness of breath</text>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <availabilityTime value=\\\"20190328103000\\\" />\\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </NarrativeStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"8A517C20-4090-47C8-9BCD-C7BD0B3DCCFD\\\" />\\n        <code code=\\\"49727002\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Cough\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        \\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text></text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"424BFB46-01A9-482E-8653-71B47E43F54B\\\" />\\n        <code code=\\\"82272006\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Common cold\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        \\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text></text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"67F8F1FF-0471-466B-B9C9-2680855453B0\\\" />\\n        <code code=\\\"162397003\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Pain in throat\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        \\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text></text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"DF137B9B-375F-42A0-AA25-F8FC112986FC\\\" />\\n        <code code=\\\"54150009\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Upper respiratory infection\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        \\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text>Problem Info: Related Problem: Unknown relationship with Postviral cough</text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component>\\n    </CompoundStatement>\\n</component><component typeCode=\\\"COMP\\\" contextConductionInd=\\\"true\\\">\\n    <CompoundStatement classCode=\\\"CATEGORY\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"06493EF7-EE08-4522-9482-08B5A88DD682\\\"/>\\n        <code code=\\\"394841004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Other category\\\">\\n    <originalText>Plan</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\">\\n    <MedicationStatement classCode=\\\"SBADM\\\" moodCode=\\\"ORD\\\">\\n        <id root=\\\"070645BF-5DC9-4769-B25C-842EB8656322\\\"/>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328\\\"/><high value=\\\"20190425\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328\\\"/>\\n        <consumable typeCode=\\\"CSM\\\">\\n            <manufacturedProduct classCode=\\\"MANU\\\">\\n                <manufacturedMaterial determinerCode=\\\"KIND\\\" classCode=\\\"MMAT\\\">\\n                    <code code=\\\"321987003\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Citalopram 20mg tablets\\\">\\n</code>\\n                </manufacturedMaterial>\\n            </manufacturedProduct>\\n        </consumable>\\n        <component typeCode=\\\"COMP\\\">\\n            <ehrSupplyPrescribe>\\n                <id root=\\\"674A4586-4811-45B4-8E9D-50D6490CCB82\\\"/>\\n                <code code=\\\"394823007\\\" displayName=\\\"NHS Prescription\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\"/>\\n                <statusCode code=\\\"COMPLETE\\\"/>\\n                <availabilityTime value=\\\"20190328\\\"/>\\n                <quantity value=\\\"28\\\" unit=\\\"1\\\">\\n                    <translation value=\\\"28\\\">\\n                        <originalText>tablet(s)</originalText>\\n                    </translation>\\n                </quantity>\\n                <inFulfillmentOf typeCode=\\\"FLFS\\\">\\n    <priorMedicationRef moodCode=\\\"INT\\\">\\n        <id root=\\\"F8C1E960-3F21-440B-978F-3FDB21AF9551\\\"/>\\n    </priorMedicationRef>\\n</inFulfillmentOf>\\n                <pertinentInformation typeCode=\\\"PERT\\\">\\n                    <pertinentSupplyAnnotation>\\n                        <text>Patient Instruction: INSTRUCTIONS FOR PATIENT Expected Supply Duration: 28 days Notes: NOTES FOR PHARMACY</text>\\n                    </pertinentSupplyAnnotation>\\n                </pertinentInformation>\\n            </ehrSupplyPrescribe>\\n        </component>\\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <pertinentMedicationDosage classCode=\\\"SBADM\\\" moodCode=\\\"RMD\\\">\\n                <text>TAKE ONE DAILY</text>\\n            </pertinentMedicationDosage>\\n        </pertinentInformation>\\n        <Participant typeCode=\\\"AUT\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </MedicationStatement>\\n</component><component typeCode=\\\"COMP\\\">\\n    <MedicationStatement classCode=\\\"SBADM\\\" moodCode=\\\"INT\\\">\\n        <id root=\\\"06D3894F-38F7-4C08-A197-590D02AAAAFC\\\"/>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328\\\"/><high value=\\\"20190425\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328\\\"/>\\n        <consumable typeCode=\\\"CSM\\\">\\n            <manufacturedProduct classCode=\\\"MANU\\\">\\n                <manufacturedMaterial determinerCode=\\\"KIND\\\" classCode=\\\"MMAT\\\">\\n                    <code code=\\\"322236009\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Paracetamol 500mg tablets\\\">\\n</code>\\n                </manufacturedMaterial>\\n            </manufacturedProduct>\\n        </consumable>\\n        <component typeCode=\\\"COMP\\\">\\n            <ehrSupplyAuthorise>\\n                <id root=\\\"F8C1E960-3F21-440B-978F-3FDB21AF9551\\\"/>\\n                <code code=\\\"394823007\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"NHS Prescription\\\">\\n</code>\\n                <statusCode code=\\\"COMPLETE\\\"/>\\n                    <effectiveTime>\\n                        <low value=\\\"20190328\\\"/><high value=\\\"20190425\\\"/>\\n                    </effectiveTime>\\n                <availabilityTime value=\\\"20190328\\\"/>\\n                <repeatNumber value=\\\"0\\\"/>\\n                <quantity value=\\\"28\\\" unit=\\\"1\\\">\\n                    <translation value=\\\"28\\\">\\n                        <originalText>tablet(s)</originalText>\\n                    </translation>\\n                </quantity>\\n                <pertinentInformation typeCode=\\\"PERT\\\">\\n                    <pertinentSupplyAnnotation>\\n                        <text>Patient Instruction: INSTRUCTIONS FOR PATIENT Expected Supply Duration: 28 days Notes: Pharmacy Notes: NOTES FOR PHARMACY</text>\\n                    </pertinentSupplyAnnotation>\\n                </pertinentInformation>\\n            </ehrSupplyAuthorise>\\n        </component>\\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <pertinentMedicationDosage classCode=\\\"SBADM\\\" moodCode=\\\"RMD\\\">\\n                <text>TAKE ONE DAILY</text>\\n            </pertinentMedicationDosage>\\n        </pertinentInformation>\\n        <Participant typeCode=\\\"AUT\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </MedicationStatement>\\n</component>\\n    </CompoundStatement>\\n</component>\\n    </CompoundStatement>\\n</component><component typeCode=\\\"COMP\\\">\\n    <CompoundStatement classCode=\\\"TOPIC\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"8486A98A-2064-41F6-BE6D-3CF29F7BCA22\\\"/>\\n        <code code=\\\"394776006\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Unspecified problem\\\">\\n    <originalText>Knee Pain</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" contextConductionInd=\\\"true\\\">\\n    <CompoundStatement classCode=\\\"CATEGORY\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"7EA5089F-8445-463B-A156-A121F9B0184D\\\"/>\\n        <code code=\\\"394841004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Other category\\\">\\n    <originalText>History</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"9AEAFBBE-2BA3-47D1-8032-1FAA6653AD69\\\" />\\n        <code code=\\\"30989003\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Knee pain\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        \\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text></text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <NarrativeStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"75B93586-8645-43CD-A11E-AF924118DA32\\\" />\\n        <text>Similar problem 3 months ago - settled after 2 weeks</text>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <availabilityTime value=\\\"20190328103000\\\" />\\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </NarrativeStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <NarrativeStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"55965F56-CF87-4B7A-AD1D-951FB997EC0F\\\" />\\n        <text>No locking.No effusion. No giving way</text>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <availabilityTime value=\\\"20190328103000\\\" />\\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </NarrativeStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"40087CB9-5E66-42C4-A0F9-FEBDEAF638FF\\\" />\\n        <code code=\\\"445241004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Postviral cough\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        \\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text>Problem Info: Related Problem: Unknown relationship with Upper respiratory infection</text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component>\\n    </CompoundStatement>\\n</component><component typeCode=\\\"COMP\\\" contextConductionInd=\\\"true\\\">\\n    <CompoundStatement classCode=\\\"CATEGORY\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"CD8D0970-8113-4BC4-8155-F8D8F8D21EFF\\\"/>\\n        <code code=\\\"394841004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Other category\\\">\\n    <originalText>Examination</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" >\\n    <NarrativeStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"6049DDD0-834E-4DAF-82C5-CD9EC8FB3019\\\" />\\n        <text>No effusion. Full range of movement. Ligaments normal</text>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <availabilityTime value=\\\"20190328103000\\\" />\\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </NarrativeStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"D9E11255-856C-4162-864B-F1F34B174C4D\\\" />\\n        <code code=\\\"299373004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Tenderness on medial joint line of knee\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        \\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text></text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component>\\n    </CompoundStatement>\\n</component><component typeCode=\\\"COMP\\\" contextConductionInd=\\\"true\\\">\\n    <CompoundStatement classCode=\\\"CATEGORY\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"24EFF5D9-9E91-493F-B0FE-3995E91E12A3\\\"/>\\n        <code code=\\\"394841004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Other category\\\">\\n    <originalText>Plan</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" >\\n    <NarrativeStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"B212CD45-3F73-4884-817A-17C48FF36B23\\\" />\\n        <text>Analgesia advice, try knee support daytime</text>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <availabilityTime value=\\\"20190328103000\\\" />\\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </NarrativeStatement>\\n</component>\\n    </CompoundStatement>\\n</component>\\n    </CompoundStatement>\\n</component>\\n    </ehrComposition>\\n</component></ehrFolder>\\n    </component>\\n    <inFulfillmentOf typeCode=\\\"FLFS\\\">\\n        <priorEhrRequest classCode=\\\"EXTRACT\\\" moodCode=\\\"RQO\\\">\\n            <id root=\\\"041CA2AE-3EC6-4AC9-942F-0F6621CC0BFC\\\" />\\n        </priorEhrRequest>\\n    </inFulfillmentOf>\\n    <limitation typeCode=\\\"LIMIT\\\" inversionInd=\\\"true\\\">\\n        <limitingEhrExtractSpecification classCode=\\\"OBS\\\" moodCode=\\\"DEF\\\">\\n            <id root=\\\"76C49C11-5271-11EA-9384-E83935108FD5\\\" />\\n            <code code=\\\"37241000000102\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Entire record available to originator (administrative concept)\\\" />\\n        </limitingEhrExtractSpecification>\\n    </limitation>\\n</EhrExtract>\\n\\n        </subject>\\n    </ControlActEvent>\\n</RCMR_IN030000UK06>\",\"attachments\":[],\"external_attachments\":[{\"description\":\"Filename=\\\"CB81819D-2CC5-418B-A04A-BEEC3DDC57A6.doc\\\" ContentType=application/msword Compressed=No LargeAttachment=No OriginalBase64=No Length=${LENGTH_PLACEHOLDER_ID=CB81819D-2CC5-418B-A04A-BEEC3DDC57A6}\",\"document_id\":\"_CB81819D-2CC5-418B-A04A-BEEC3DDC57A6\",\"message_id\":\"3FF09ED8-4520-4E40-A7FA-A53AE6705338\"},{\"description\":\"Filename=\\\"F36C5A20-3C77-4703-A52D-64C0DE1B860B.doc\\\" ContentType=application/msword Compressed=No LargeAttachment=No OriginalBase64=No Length=${LENGTH_PLACEHOLDER_ID=F36C5A20-3C77-4703-A52D-64C0DE1B860B}\",\"document_id\":\"_F36C5A20-3C77-4703-A52D-64C0DE1B860B\",\"message_id\":\"432CCD4C-3A50-4DE7-BEFC-4DE93D5BB583\"},{\"description\":\"Filename=\\\"655C2115-D70A-4A28-9EBD-16384909D5F4.doc\\\" ContentType=application/msword Compressed=No LargeAttachment=No OriginalBase64=No Length=${LENGTH_PLACEHOLDER_ID=655C2115-D70A-4A28-9EBD-16384909D5F4}\",\"document_id\":\"_655C2115-D70A-4A28-9EBD-16384909D5F4\",\"message_id\":\"0B822F79-3C89-41D8-B9D6-F0FD69A4112E\"}]}").build()
        );
        when(ehrExtractStatusService.updateEhrExtractStatusCore(any(), any())).thenReturn(
            EhrExtractStatus.builder().gpcAccessDocument(
                EhrExtractStatus.GpcAccessDocument.builder().documents(
                    new ArrayList<>()
                ).build()
            ).build()
        );

        // Act
        var sendEhrExtractCoreTaskExecutor = new SendEhrExtractCoreTaskExecutor(
            this.mhsClient,
            this.mhsRequestBuilder,
            this.ehrExtractStatusService,
            this.storageConnectorService,
            this.sendAcknowledgementTaskDispatcher
        );
        sendEhrExtractCoreTaskExecutor.execute(
                SendEhrExtractCoreTaskDefinition.builder()
                        .conversationId("this-is-a-conversation-id")
                        .build()
        );


        // Assert
        verify(mhsRequestBuilder).buildSendEhrExtractCoreRequest(eq("{\"payload\":\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\\n<RCMR_IN030000UK06 xmlns=\\\"urn:hl7-org:v3\\\" xmlns:xsi=\\\"http://www.w3.org/2001/XMLSchema-instance\\\" xsi:schemaLocation=\\\"urn:hl7-org:v3 ..\\\\Schemas\\\\RCMR_IN030000UK06.xsd\\\">\\n    <id root=\\\"E5A42EB4-7123-4365-A48D-E414010F2B0A\\\" />\\n    <creationTime value=\\\"20240125115036\\\" />\\n    <versionCode code=\\\"V3NPfIT3.1.10\\\" />\\n    <interactionId root=\\\"2.16.840.1.113883.2.1.3.2.4.12\\\" extension=\\\"RCMR_IN030000UK06\\\" />\\n    <processingCode code=\\\"P\\\" />\\n    <processingModeCode code=\\\"T\\\" />\\n    <acceptAckCode code=\\\"NE\\\" />\\n    <communicationFunctionRcv typeCode=\\\"RCV\\\">\\n        <device classCode=\\\"DEV\\\" determinerCode=\\\"INSTANCE\\\">\\n            <id root=\\\"1.2.826.0.1285.0.2.0.107\\\" extension=\\\"{{fromAsid}}\\\" />\\n        </device>\\n    </communicationFunctionRcv>\\n    <communicationFunctionSnd typeCode=\\\"SND\\\">\\n        <device classCode=\\\"DEV\\\" determinerCode=\\\"INSTANCE\\\">\\n            <id root=\\\"1.2.826.0.1285.0.2.0.107\\\" extension=\\\"{{toAsid}}\\\" />\\n        </device>\\n    </communicationFunctionSnd>\\n    <ControlActEvent classCode=\\\"CACT\\\" moodCode=\\\"EVN\\\">\\n        <author1 typeCode=\\\"AUT\\\">\\n            <AgentSystemSDS classCode=\\\"AGNT\\\">\\n                <agentSystemSDS classCode=\\\"DEV\\\" determinerCode=\\\"INSTANCE\\\">\\n                    <id root=\\\"1.2.826.0.1285.0.2.0.107\\\" extension=\\\"{{toAsid}}\\\" />\\n                </agentSystemSDS>\\n            </AgentSystemSDS>\\n        </author1>\\n        <subject typeCode=\\\"SUBJ\\\" contextConductionInd=\\\"false\\\">\\n            <EhrExtract classCode=\\\"EXTRACT\\\" moodCode=\\\"EVN\\\">\\n    <id root=\\\"F506A596-BB56-4390-A6A0-DD3522A71198\\\" />\\n    <statusCode code=\\\"COMPLETE\\\" />\\n    <availabilityTime value=\\\"20240125115032\\\" />\\n    <recordTarget typeCode=\\\"RCT\\\">\\n        <patient classCode=\\\"PAT\\\">\\n            <id root=\\\"2.16.840.1.113883.2.1.4.1\\\" extension=\\\"9690937420\\\" />\\n        </patient>\\n    </recordTarget>\\n    <author typeCode=\\\"AUT\\\">\\n        <time value=\\\"20240125115032\\\" />\\n        <AgentOrgSDS classCode=\\\"AGNT\\\">\\n            <agentOrganizationSDS classCode=\\\"ORG\\\" determinerCode=\\\"INSTANCE\\\">\\n                <id root=\\\"1.2.826.0.1285.0.1.10\\\" extension=\\\"{{toOds}}\\\" />\\n            </agentOrganizationSDS>\\n        </AgentOrgSDS>\\n    </author>\\n    <destination typeCode=\\\"DST\\\">\\n        <AgentOrgSDS classCode=\\\"AGNT\\\">\\n            <agentOrganizationSDS classCode=\\\"ORG\\\" determinerCode=\\\"INSTANCE\\\">\\n                <id root=\\\"1.2.826.0.1285.0.1.10\\\" extension=\\\"{{fromOds}}\\\" />\\n            </agentOrganizationSDS>\\n        </AgentOrgSDS>\\n    </destination>\\n    <component typeCode=\\\"COMP\\\">\\n        <ehrFolder classCode=\\\"FOLDER\\\" moodCode=\\\"EVN\\\">\\n            <id root=\\\"76441281-D187-4E5E-B200-5BF997D5AA4B\\\" />\\n            <statusCode code=\\\"COMPLETE\\\" />\\n            <effectiveTime>\\n                <low value=\\\"19620812000000\\\"/><high value=\\\"20190601113800\\\"/>\\n            </effectiveTime>\\n            <availabilityTime value=\\\"20240125115032\\\" />\\n            <author typeCode=\\\"AUT\\\">\\n                <time value=\\\"20240125115032\\\" />\\n                <AgentOrgSDS classCode=\\\"AGNT\\\">\\n                    <agentOrganizationSDS classCode=\\\"ORG\\\" determinerCode=\\\"INSTANCE\\\">\\n                        <id root=\\\"1.2.826.0.1285.0.1.10\\\" extension=\\\"{{toOds}}\\\" />\\n                    </agentOrganizationSDS>\\n                </AgentOrgSDS>\\n            </author>\\n            <responsibleParty typeCode=\\\"RESP\\\">\\n    <agentDirectory classCode=\\\"AGNT\\\">\\n        <part typeCode=\\\"PART\\\">\\n    <Agent classCode=\\\"AGNT\\\">\\n        <id root=\\\"D7E50379-21B5-4162-B993-4788DBC73A1C\\\"/>\\n        <code nullFlavor=\\\"UNK\\\">\\n            <originalText>Unknown</originalText>\\n        </code>\\n        <agentPerson classCode=\\\"PSN\\\" determinerCode=\\\"INSTANCE\\\">\\n            <name>\\n                <family>COXWOLD SURGERY</family>\\n            </name>\\n        </agentPerson>\\n    </Agent>\\n</part>\\n            <part typeCode=\\\"PART\\\">\\n    <Agent classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n        <code nullFlavor=\\\"UNK\\\">\\n            <originalText>General Medical Practitioner</originalText>\\n        </code>\\n        <agentPerson classCode=\\\"PSN\\\" determinerCode=\\\"INSTANCE\\\">\\n            <name>\\n                <prefix>Miss</prefix>\\n                <given>Nichole</given>\\n                <family>Gilbert</family>\\n            </name>\\n        </agentPerson>\\n        <representedOrganization classCode=\\\"ORG\\\" determinerCode=\\\"INSTANCE\\\">\\n                        <name>COXWOLD SURGERY</name>\\n            <telecom value=\\\"tel:12345678\\\" use=\\\"WP\\\"/>\\n            <addr use=\\\"WP\\\">\\n                <streetAddressLine>NHS NPFIT Test Data Manager</streetAddressLine>\\n                <streetAddressLine>Princes Exchange</streetAddressLine>\\n                <streetAddressLine>Leeds</streetAddressLine>\\n                <postalCode>LS1 4HY</postalCode>\\n            </addr>\\n        </representedOrganization>\\n    </Agent>\\n</part>\\n    </agentDirectory>\\n</responsibleParty>\\n                <component typeCode=\\\"COMP\\\">\\n    <ehrComposition classCode=\\\"COMPOSITION\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"279292E8-2D40-4476-BB1D-F4464387D82E\\\" />\\n        <code code=\\\"24591000000103\\\" displayName=\\\"Other report\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\">\\n            <originalText>Surgery Consultation</originalText>\\n        </code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <author typeCode=\\\"AUT\\\" contextControlCode=\\\"OP\\\">\\n            <time value=\\\"20190328103000\\\" />\\n            <agentRef classCode=\\\"AGNT\\\">\\n                <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\" />\\n            </agentRef>\\n        </author>\\n        <Participant2 typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n            <agentRef classCode=\\\"AGNT\\\">\\n                <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n            </agentRef>\\n        </Participant2>\\n        <component typeCode=\\\"COMP\\\">\\n    <CompoundStatement classCode=\\\"TOPIC\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"E4847399-4576-48DD-B4FC-79096BBB0CAB\\\"/>\\n        <code code=\\\"231504006\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Mixed anxiety and depressive disorder\\\">\\n    <originalText>Anxiety with Depression</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" contextConductionInd=\\\"true\\\">\\n    <CompoundStatement classCode=\\\"CATEGORY\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"86C35DD6-9BF9-47FC-8696-9E47BCB2FBE1\\\"/>\\n        <code code=\\\"394841004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Other category\\\">\\n    <originalText>History</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" >\\n    <NarrativeStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"CE172EE5-60A3-4C9A-86EC-481B05E3AAAB\\\" />\\n        <text>Come for review. Overall doing better. Mood still low but improving. More good days than bad. Energy levels ok. Motivation improving. Support from neighbour visits daily</text>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <availabilityTime value=\\\"20190328103000\\\" />\\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </NarrativeStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"CC521ADC-C543-41E5-A9EB-91EA5EDDED1B\\\" />\\n        <code code=\\\"231504006\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Mixed anxiety and depressive disorder\\\">\\n    <originalText>Anxiety with depression</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        \\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text></text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component>\\n    </CompoundStatement>\\n</component><component typeCode=\\\"COMP\\\" contextConductionInd=\\\"true\\\">\\n    <CompoundStatement classCode=\\\"CATEGORY\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"556827DD-60E9-4A68-9A4A-77A526C44AB4\\\"/>\\n        <code code=\\\"394841004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Other category\\\">\\n    <originalText>Examination</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" >\\n    <NarrativeStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"0D2672D2-3449-46D0-B6D4-BB972649CBEF\\\" />\\n        <text>MSE euthymic. Not anxious. No DSH/hallucinations/abnormal thoughts</text>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <availabilityTime value=\\\"20190328103000\\\" />\\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </NarrativeStatement>\\n</component>\\n    </CompoundStatement>\\n</component><component typeCode=\\\"COMP\\\" contextConductionInd=\\\"true\\\">\\n    <CompoundStatement classCode=\\\"CATEGORY\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"6B5BFC4D-07DB-42B4-9C4C-2DA68B2ECDBA\\\"/>\\n        <code code=\\\"394841004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Other category\\\">\\n    <originalText>Social</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"FC35180E-C6F6-44D6-B75B-014678A360A6\\\" />\\n        <code code=\\\"266919005\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Never smoked tobacco\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        \\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text></text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"8CB33E9A-4416-4E3F-A126-67B7AB9F9467\\\" />\\n        <code code=\\\"1082641000000106\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Alcohol units consumed per week\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <value xsi:type=\\\"PQ\\\" value=\\\"0\\\" unit=\\\"1\\\"><translation value=\\\"0\\\"><originalText>units/week</originalText></translation></value>\\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text></text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component>\\n    </CompoundStatement>\\n</component><component typeCode=\\\"COMP\\\" contextConductionInd=\\\"true\\\">\\n    <CompoundStatement classCode=\\\"CATEGORY\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"6B2577FB-0F52-4DC9-8765-EDC281579964\\\"/>\\n        <code code=\\\"394841004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Other category\\\">\\n    <originalText>Plan</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\">\\n    <MedicationStatement classCode=\\\"SBADM\\\" moodCode=\\\"INT\\\">\\n        <id root=\\\"016D174E-A91C-4981-8237-56392547539E\\\"/>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328\\\"/><high value=\\\"20190425\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328\\\"/>\\n        <consumable typeCode=\\\"CSM\\\">\\n            <manufacturedProduct classCode=\\\"MANU\\\">\\n                <manufacturedMaterial determinerCode=\\\"KIND\\\" classCode=\\\"MMAT\\\">\\n                    <code code=\\\"321987003\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Citalopram 20mg tablets\\\">\\n</code>\\n                </manufacturedMaterial>\\n            </manufacturedProduct>\\n        </consumable>\\n        <component typeCode=\\\"COMP\\\">\\n            <ehrSupplyAuthorise>\\n                <id root=\\\"9185A4F0-606A-470F-A4FB-6CE3776C1AF9\\\"/>\\n                <code code=\\\"394823007\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"NHS Prescription\\\">\\n</code>\\n                <statusCode code=\\\"COMPLETE\\\"/>\\n                    <effectiveTime>\\n                        <low value=\\\"20190328\\\"/><high value=\\\"20190425\\\"/>\\n                    </effectiveTime>\\n                <availabilityTime value=\\\"20190328\\\"/>\\n                <repeatNumber value=\\\"0\\\"/>\\n                <quantity value=\\\"28\\\" unit=\\\"1\\\">\\n                    <translation value=\\\"28\\\">\\n                        <originalText>capsule(s)</originalText>\\n                    </translation>\\n                </quantity>\\n                <pertinentInformation typeCode=\\\"PERT\\\">\\n                    <pertinentSupplyAnnotation>\\n                        <text>Patient Instruction: INSTRUCTIONS FOR PATIENT Expected Supply Duration: 28 days Notes: Pharmacy Notes: NOTES FOR PHARMACY</text>\\n                    </pertinentSupplyAnnotation>\\n                </pertinentInformation>\\n            </ehrSupplyAuthorise>\\n        </component>\\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <pertinentMedicationDosage classCode=\\\"SBADM\\\" moodCode=\\\"RMD\\\">\\n                <text>TAKE ONE DAILY</text>\\n            </pertinentMedicationDosage>\\n        </pertinentInformation>\\n        <Participant typeCode=\\\"AUT\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </MedicationStatement>\\n</component><component typeCode=\\\"COMP\\\">\\n    <MedicationStatement classCode=\\\"SBADM\\\" moodCode=\\\"ORD\\\">\\n        <id root=\\\"499868D9-9E76-4185-A767-953EBFBC2224\\\"/>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328\\\"/><high value=\\\"20190425\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328\\\"/>\\n        <consumable typeCode=\\\"CSM\\\">\\n            <manufacturedProduct classCode=\\\"MANU\\\">\\n                <manufacturedMaterial determinerCode=\\\"KIND\\\" classCode=\\\"MMAT\\\">\\n                    <code code=\\\"321987003\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Citalopram 20mg tablets\\\">\\n</code>\\n                </manufacturedMaterial>\\n            </manufacturedProduct>\\n        </consumable>\\n        <component typeCode=\\\"COMP\\\">\\n            <ehrSupplyPrescribe>\\n                <id root=\\\"F7BE75F3-2DDE-47DE-A229-A67EC947E36D\\\"/>\\n                <code code=\\\"394823007\\\" displayName=\\\"NHS Prescription\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\"/>\\n                <statusCode code=\\\"COMPLETE\\\"/>\\n                <availabilityTime value=\\\"20190328\\\"/>\\n                <quantity value=\\\"28\\\" unit=\\\"1\\\">\\n                    <translation value=\\\"28\\\">\\n                        <originalText>capsule(s)</originalText>\\n                    </translation>\\n                </quantity>\\n                <inFulfillmentOf typeCode=\\\"FLFS\\\">\\n    <priorMedicationRef moodCode=\\\"INT\\\">\\n        <id root=\\\"9185A4F0-606A-470F-A4FB-6CE3776C1AF9\\\"/>\\n    </priorMedicationRef>\\n</inFulfillmentOf>\\n                <pertinentInformation typeCode=\\\"PERT\\\">\\n                    <pertinentSupplyAnnotation>\\n                        <text>Patient Instruction: INSTRUCTIONS FOR PATIENT Expected Supply Duration: 28 days Notes: NOTES FOR PHARMACY</text>\\n                    </pertinentSupplyAnnotation>\\n                </pertinentInformation>\\n            </ehrSupplyPrescribe>\\n        </component>\\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <pertinentMedicationDosage classCode=\\\"SBADM\\\" moodCode=\\\"RMD\\\">\\n                <text>TAKE ONE DAILY</text>\\n            </pertinentMedicationDosage>\\n        </pertinentInformation>\\n        <Participant typeCode=\\\"AUT\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </MedicationStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"767F6FBD-012E-4B1F-BB80-2334FD1A1C14\\\" />\\n        <code code=\\\"308931006\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Walking practice\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        \\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text>Advised re local walking group</text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component>\\n    </CompoundStatement>\\n</component>\\n    </CompoundStatement>\\n</component><component typeCode=\\\"COMP\\\">\\n    <CompoundStatement classCode=\\\"TOPIC\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"3C58B953-A996-4B53-A7EA-63B2120C8220\\\"/>\\n        <code code=\\\"449614009\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Swelling of lower limb\\\">\\n    <originalText>Swollen legs</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" contextConductionInd=\\\"true\\\">\\n    <CompoundStatement classCode=\\\"CATEGORY\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"33800176-C1C6-4083-8E6C-E39670444DE0\\\"/>\\n        <code code=\\\"394841004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Other category\\\">\\n    <originalText>History</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" >\\n    <NarrativeStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"EED94C34-9E85-4216-9709-238443304749\\\" />\\n        <text>2 months - bilateral swollen lower legs</text>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <availabilityTime value=\\\"20190328103000\\\" />\\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </NarrativeStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"A4937992-1DEE-4154-B0AB-0C974CFD06E7\\\" />\\n        <code code=\\\"449614009\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Swelling of lower limb\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        \\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text>Problem Info: Problem Notes: due to obesity and poor mobility and previous DVT</text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component>\\n    </CompoundStatement>\\n</component><component typeCode=\\\"COMP\\\" contextConductionInd=\\\"true\\\">\\n    <CompoundStatement classCode=\\\"CATEGORY\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"F99EE6A8-3161-4C30-922D-978943F5521E\\\"/>\\n        <code code=\\\"394841004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Other category\\\">\\n    <originalText>Examination</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"91FD2D4C-9773-4463-A41C-A86BB69F1735\\\" />\\n        <code code=\\\"703421000\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Temperature\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <value xsi:type=\\\"PQ\\\" value=\\\"36.7\\\" unit=\\\"C\\\"/>\\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text>Patient looks flushed</text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"010F7475-95CC-408E-871C-7FE462CD0887\\\" />\\n        <code code=\\\"1097811000000106\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Arterial oxygen saturation breathing room air at rest\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <value xsi:type=\\\"PQ\\\" value=\\\"96\\\" unit=\\\"%\\\"/>\\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text></text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"0949DCB1-9199-4DF0-8808-E00B753652A7\\\" />\\n        <code code=\\\"86290005\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Respiratory rate\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <value xsi:type=\\\"PQ\\\" value=\\\"16\\\" unit=\\\"breaths per minute\\\"/>\\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text>Chest clear</text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"2EBA6358-5DF0-47E3-9B4A-175F8070D71C\\\" />\\n        <code code=\\\"271637005\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Pulse irregularly irregular\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <value xsi:type=\\\"PQ\\\" value=\\\"70\\\" unit=\\\"per minute\\\"/>\\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text></text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <NarrativeStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"A47D4C1F-F2CB-45D8-9739-6ED55E19C49E\\\" />\\n        <text>Swelling lower legs bilaterally. Mild pitting oedema. Heart sounds normal. No distress. Abdomen normal. No cervical lymphadenopathy. Throat normal. Ears normal</text>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <availabilityTime value=\\\"20190328103000\\\" />\\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </NarrativeStatement>\\n</component>\\n    </CompoundStatement>\\n</component><component typeCode=\\\"COMP\\\" contextConductionInd=\\\"true\\\">\\n    <CompoundStatement classCode=\\\"CATEGORY\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"016AAA7D-E519-4923-AF82-4C811DEFF61F\\\"/>\\n        <code code=\\\"394841004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Other category\\\">\\n    <originalText>Plan</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" >\\n    <NarrativeStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"A4968F23-1AF0-42F0-9BB7-93068A797CC1\\\" />\\n        <text>Advice to mobilise more. Review with results.</text>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <availabilityTime value=\\\"20190328103000\\\" />\\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </NarrativeStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"AF312458-4415-4EE5-BA59-7AB59A002D24\\\" />\\n        <code code=\\\"46825001\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Electrocardiographic monitoring\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        \\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text></text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component>\\n    </CompoundStatement>\\n</component>\\n    </CompoundStatement>\\n</component><component typeCode=\\\"COMP\\\">\\n    <CompoundStatement classCode=\\\"TOPIC\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"0D519CEF-6C0C-4FD3-B5E6-7B1811F1F686\\\"/>\\n        <code code=\\\"394776006\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Unspecified problem\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"A0B2BE8B-C51A-4CFA-9F62-A1C5A5E8DD2C\\\" />\\n        <code code=\\\"413153004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Blood pressure recorded by patient at home\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        \\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text>average 150/90 last six weeks</text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"DC1522FB-CAA1-4AB2-A2B6-62F441674FB0\\\" />\\n        <code code=\\\"163020007\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"O/E - blood pressure reading\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        \\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text>Component(s): [Code: O/E Systolic BP reading Quantity Value: 130 mm[Hg]] [Code: O/E Diastolic BP reading Quantity Value: 72 mm[Hg]]</text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component><component typeCode=\\\"COMP\\\">\\n    <MedicationStatement classCode=\\\"SBADM\\\" moodCode=\\\"INT\\\">\\n        <id root=\\\"DBCB8176-4D9C-488A-9B8E-A9CDDBD7BCE7\\\"/>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328\\\"/><high value=\\\"20190425\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328\\\"/>\\n        <consumable typeCode=\\\"CSM\\\">\\n            <manufacturedProduct classCode=\\\"MANU\\\">\\n                <manufacturedMaterial determinerCode=\\\"KIND\\\" classCode=\\\"MMAT\\\">\\n                    <code code=\\\"319284000\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Amlodipine 10mg tablets\\\">\\n</code>\\n                </manufacturedMaterial>\\n            </manufacturedProduct>\\n        </consumable>\\n        <component typeCode=\\\"COMP\\\">\\n            <ehrSupplyAuthorise>\\n                <id root=\\\"6312446F-4491-4566-BCBD-FFD6C1428952\\\"/>\\n                <code code=\\\"394823007\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"NHS Prescription\\\">\\n</code>\\n                <statusCode code=\\\"COMPLETE\\\"/>\\n                    <effectiveTime>\\n                        <low value=\\\"20190328\\\"/><high value=\\\"20190425\\\"/>\\n                    </effectiveTime>\\n                <availabilityTime value=\\\"20190328\\\"/>\\n                <repeatNumber value=\\\"0\\\"/>\\n                <quantity value=\\\"28\\\" unit=\\\"1\\\">\\n                    <translation value=\\\"28\\\">\\n                        <originalText>tablet(s)</originalText>\\n                    </translation>\\n                </quantity>\\n                <pertinentInformation typeCode=\\\"PERT\\\">\\n                    <pertinentSupplyAnnotation>\\n                        <text>Patient Instruction: INSTRUCTIONS FOR PATIENT Expected Supply Duration: 28 days Notes: Pharmacy Notes: NOTES FOR PHARMACY</text>\\n                    </pertinentSupplyAnnotation>\\n                </pertinentInformation>\\n            </ehrSupplyAuthorise>\\n        </component>\\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <pertinentMedicationDosage classCode=\\\"SBADM\\\" moodCode=\\\"RMD\\\">\\n                <text>TAKE ONE DAILY</text>\\n            </pertinentMedicationDosage>\\n        </pertinentInformation>\\n        <Participant typeCode=\\\"AUT\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </MedicationStatement>\\n</component><component typeCode=\\\"COMP\\\">\\n    <MedicationStatement classCode=\\\"SBADM\\\" moodCode=\\\"ORD\\\">\\n        <id root=\\\"5BC73461-01B7-478F-8745-3A8E2919A0CB\\\"/>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328\\\"/><high value=\\\"20190425\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328\\\"/>\\n        <consumable typeCode=\\\"CSM\\\">\\n            <manufacturedProduct classCode=\\\"MANU\\\">\\n                <manufacturedMaterial determinerCode=\\\"KIND\\\" classCode=\\\"MMAT\\\">\\n                    <code code=\\\"319284000\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Amlodipine 10mg tablets\\\">\\n</code>\\n                </manufacturedMaterial>\\n            </manufacturedProduct>\\n        </consumable>\\n        <component typeCode=\\\"COMP\\\">\\n            <ehrSupplyPrescribe>\\n                <id root=\\\"D2103703-ED01-4CA7-A413-2B7E9B230FB9\\\"/>\\n                <code code=\\\"394823007\\\" displayName=\\\"NHS Prescription\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\"/>\\n                <statusCode code=\\\"COMPLETE\\\"/>\\n                <availabilityTime value=\\\"20190328\\\"/>\\n                <quantity value=\\\"28\\\" unit=\\\"1\\\">\\n                    <translation value=\\\"28\\\">\\n                        <originalText>tablet(s)</originalText>\\n                    </translation>\\n                </quantity>\\n                <inFulfillmentOf typeCode=\\\"FLFS\\\">\\n    <priorMedicationRef moodCode=\\\"INT\\\">\\n        <id root=\\\"6312446F-4491-4566-BCBD-FFD6C1428952\\\"/>\\n    </priorMedicationRef>\\n</inFulfillmentOf>\\n                <pertinentInformation typeCode=\\\"PERT\\\">\\n                    <pertinentSupplyAnnotation>\\n                        <text>Patient Instruction: INSTRUCTIONS FOR PATIENT Expected Supply Duration: 28 days Notes: NOTES FOR PHARMACY</text>\\n                    </pertinentSupplyAnnotation>\\n                </pertinentInformation>\\n            </ehrSupplyPrescribe>\\n        </component>\\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <pertinentMedicationDosage classCode=\\\"SBADM\\\" moodCode=\\\"RMD\\\">\\n                <text>TAKE ONE DAILY</text>\\n            </pertinentMedicationDosage>\\n        </pertinentInformation>\\n        <Participant typeCode=\\\"AUT\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </MedicationStatement>\\n</component>\\n    </CompoundStatement>\\n</component><component typeCode=\\\"COMP\\\">\\n    <CompoundStatement classCode=\\\"TOPIC\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"F4CF2A0F-810E-4E5F-8025-A7E400AB3C2D\\\"/>\\n        <code code=\\\"54150009\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Upper respiratory infection\\\">\\n    <originalText>Upper respiratory tract infection</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" contextConductionInd=\\\"true\\\">\\n    <CompoundStatement classCode=\\\"CATEGORY\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"1CDA235C-BD52-477A-9D37-843050FB7873\\\"/>\\n        <code code=\\\"394841004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Other category\\\">\\n    <originalText>History</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" >\\n    <NarrativeStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"E42211C8-13B7-47B1-8736-2CC5F5272C94\\\" />\\n        <text>2 weeks cough - white sputum - no blood, 1 week nose running, 5 days sore throat, No shortness of breath</text>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <availabilityTime value=\\\"20190328103000\\\" />\\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </NarrativeStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"8A517C20-4090-47C8-9BCD-C7BD0B3DCCFD\\\" />\\n        <code code=\\\"49727002\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Cough\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        \\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text></text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"424BFB46-01A9-482E-8653-71B47E43F54B\\\" />\\n        <code code=\\\"82272006\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Common cold\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        \\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text></text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"67F8F1FF-0471-466B-B9C9-2680855453B0\\\" />\\n        <code code=\\\"162397003\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Pain in throat\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        \\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text></text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"DF137B9B-375F-42A0-AA25-F8FC112986FC\\\" />\\n        <code code=\\\"54150009\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Upper respiratory infection\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        \\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text>Problem Info: Related Problem: Unknown relationship with Postviral cough</text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component>\\n    </CompoundStatement>\\n</component><component typeCode=\\\"COMP\\\" contextConductionInd=\\\"true\\\">\\n    <CompoundStatement classCode=\\\"CATEGORY\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"06493EF7-EE08-4522-9482-08B5A88DD682\\\"/>\\n        <code code=\\\"394841004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Other category\\\">\\n    <originalText>Plan</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\">\\n    <MedicationStatement classCode=\\\"SBADM\\\" moodCode=\\\"ORD\\\">\\n        <id root=\\\"070645BF-5DC9-4769-B25C-842EB8656322\\\"/>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328\\\"/><high value=\\\"20190425\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328\\\"/>\\n        <consumable typeCode=\\\"CSM\\\">\\n            <manufacturedProduct classCode=\\\"MANU\\\">\\n                <manufacturedMaterial determinerCode=\\\"KIND\\\" classCode=\\\"MMAT\\\">\\n                    <code code=\\\"321987003\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Citalopram 20mg tablets\\\">\\n</code>\\n                </manufacturedMaterial>\\n            </manufacturedProduct>\\n        </consumable>\\n        <component typeCode=\\\"COMP\\\">\\n            <ehrSupplyPrescribe>\\n                <id root=\\\"674A4586-4811-45B4-8E9D-50D6490CCB82\\\"/>\\n                <code code=\\\"394823007\\\" displayName=\\\"NHS Prescription\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\"/>\\n                <statusCode code=\\\"COMPLETE\\\"/>\\n                <availabilityTime value=\\\"20190328\\\"/>\\n                <quantity value=\\\"28\\\" unit=\\\"1\\\">\\n                    <translation value=\\\"28\\\">\\n                        <originalText>tablet(s)</originalText>\\n                    </translation>\\n                </quantity>\\n                <inFulfillmentOf typeCode=\\\"FLFS\\\">\\n    <priorMedicationRef moodCode=\\\"INT\\\">\\n        <id root=\\\"F8C1E960-3F21-440B-978F-3FDB21AF9551\\\"/>\\n    </priorMedicationRef>\\n</inFulfillmentOf>\\n                <pertinentInformation typeCode=\\\"PERT\\\">\\n                    <pertinentSupplyAnnotation>\\n                        <text>Patient Instruction: INSTRUCTIONS FOR PATIENT Expected Supply Duration: 28 days Notes: NOTES FOR PHARMACY</text>\\n                    </pertinentSupplyAnnotation>\\n                </pertinentInformation>\\n            </ehrSupplyPrescribe>\\n        </component>\\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <pertinentMedicationDosage classCode=\\\"SBADM\\\" moodCode=\\\"RMD\\\">\\n                <text>TAKE ONE DAILY</text>\\n            </pertinentMedicationDosage>\\n        </pertinentInformation>\\n        <Participant typeCode=\\\"AUT\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </MedicationStatement>\\n</component><component typeCode=\\\"COMP\\\">\\n    <MedicationStatement classCode=\\\"SBADM\\\" moodCode=\\\"INT\\\">\\n        <id root=\\\"06D3894F-38F7-4C08-A197-590D02AAAAFC\\\"/>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328\\\"/><high value=\\\"20190425\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328\\\"/>\\n        <consumable typeCode=\\\"CSM\\\">\\n            <manufacturedProduct classCode=\\\"MANU\\\">\\n                <manufacturedMaterial determinerCode=\\\"KIND\\\" classCode=\\\"MMAT\\\">\\n                    <code code=\\\"322236009\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Paracetamol 500mg tablets\\\">\\n</code>\\n                </manufacturedMaterial>\\n            </manufacturedProduct>\\n        </consumable>\\n        <component typeCode=\\\"COMP\\\">\\n            <ehrSupplyAuthorise>\\n                <id root=\\\"F8C1E960-3F21-440B-978F-3FDB21AF9551\\\"/>\\n                <code code=\\\"394823007\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"NHS Prescription\\\">\\n</code>\\n                <statusCode code=\\\"COMPLETE\\\"/>\\n                    <effectiveTime>\\n                        <low value=\\\"20190328\\\"/><high value=\\\"20190425\\\"/>\\n                    </effectiveTime>\\n                <availabilityTime value=\\\"20190328\\\"/>\\n                <repeatNumber value=\\\"0\\\"/>\\n                <quantity value=\\\"28\\\" unit=\\\"1\\\">\\n                    <translation value=\\\"28\\\">\\n                        <originalText>tablet(s)</originalText>\\n                    </translation>\\n                </quantity>\\n                <pertinentInformation typeCode=\\\"PERT\\\">\\n                    <pertinentSupplyAnnotation>\\n                        <text>Patient Instruction: INSTRUCTIONS FOR PATIENT Expected Supply Duration: 28 days Notes: Pharmacy Notes: NOTES FOR PHARMACY</text>\\n                    </pertinentSupplyAnnotation>\\n                </pertinentInformation>\\n            </ehrSupplyAuthorise>\\n        </component>\\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <pertinentMedicationDosage classCode=\\\"SBADM\\\" moodCode=\\\"RMD\\\">\\n                <text>TAKE ONE DAILY</text>\\n            </pertinentMedicationDosage>\\n        </pertinentInformation>\\n        <Participant typeCode=\\\"AUT\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </MedicationStatement>\\n</component>\\n    </CompoundStatement>\\n</component>\\n    </CompoundStatement>\\n</component><component typeCode=\\\"COMP\\\">\\n    <CompoundStatement classCode=\\\"TOPIC\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"8486A98A-2064-41F6-BE6D-3CF29F7BCA22\\\"/>\\n        <code code=\\\"394776006\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Unspecified problem\\\">\\n    <originalText>Knee Pain</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" contextConductionInd=\\\"true\\\">\\n    <CompoundStatement classCode=\\\"CATEGORY\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"7EA5089F-8445-463B-A156-A121F9B0184D\\\"/>\\n        <code code=\\\"394841004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Other category\\\">\\n    <originalText>History</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"9AEAFBBE-2BA3-47D1-8032-1FAA6653AD69\\\" />\\n        <code code=\\\"30989003\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Knee pain\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        \\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text></text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <NarrativeStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"75B93586-8645-43CD-A11E-AF924118DA32\\\" />\\n        <text>Similar problem 3 months ago - settled after 2 weeks</text>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <availabilityTime value=\\\"20190328103000\\\" />\\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </NarrativeStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <NarrativeStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"55965F56-CF87-4B7A-AD1D-951FB997EC0F\\\" />\\n        <text>No locking.No effusion. No giving way</text>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <availabilityTime value=\\\"20190328103000\\\" />\\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </NarrativeStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"40087CB9-5E66-42C4-A0F9-FEBDEAF638FF\\\" />\\n        <code code=\\\"445241004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Postviral cough\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        \\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text>Problem Info: Related Problem: Unknown relationship with Upper respiratory infection</text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component>\\n    </CompoundStatement>\\n</component><component typeCode=\\\"COMP\\\" contextConductionInd=\\\"true\\\">\\n    <CompoundStatement classCode=\\\"CATEGORY\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"CD8D0970-8113-4BC4-8155-F8D8F8D21EFF\\\"/>\\n        <code code=\\\"394841004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Other category\\\">\\n    <originalText>Examination</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" >\\n    <NarrativeStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"6049DDD0-834E-4DAF-82C5-CD9EC8FB3019\\\" />\\n        <text>No effusion. Full range of movement. Ligaments normal</text>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <availabilityTime value=\\\"20190328103000\\\" />\\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </NarrativeStatement>\\n</component><component typeCode=\\\"COMP\\\" >\\n    <ObservationStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"D9E11255-856C-4162-864B-F1F34B174C4D\\\" />\\n        <code code=\\\"299373004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Tenderness on medial joint line of knee\\\">\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <effectiveTime>\\n            <center value=\\\"20190328103000\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        \\n        \\n        <pertinentInformation typeCode=\\\"PERT\\\">\\n            <sequenceNumber value=\\\"+1\\\" />\\n            <pertinentAnnotation classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n                <text></text>\\n            </pertinentAnnotation>\\n        </pertinentInformation>\\n        \\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </ObservationStatement>\\n</component>\\n    </CompoundStatement>\\n</component><component typeCode=\\\"COMP\\\" contextConductionInd=\\\"true\\\">\\n    <CompoundStatement classCode=\\\"CATEGORY\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"24EFF5D9-9E91-493F-B0FE-3995E91E12A3\\\"/>\\n        <code code=\\\"394841004\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Other category\\\">\\n    <originalText>Plan</originalText>\\n</code>\\n        <statusCode code=\\\"COMPLETE\\\"/>\\n        <effectiveTime>\\n            <low value=\\\"20190328103000\\\"/><high value=\\\"20190328103800\\\"/>\\n        </effectiveTime>\\n        <availabilityTime value=\\\"20190328103000\\\"/>\\n        <component typeCode=\\\"COMP\\\" >\\n    <NarrativeStatement classCode=\\\"OBS\\\" moodCode=\\\"EVN\\\">\\n        <id root=\\\"B212CD45-3F73-4884-817A-17C48FF36B23\\\" />\\n        <text>Analgesia advice, try knee support daytime</text>\\n        <statusCode code=\\\"COMPLETE\\\" />\\n        <availabilityTime value=\\\"20190328103000\\\" />\\n        <Participant typeCode=\\\"PRF\\\" contextControlCode=\\\"OP\\\">\\n    <agentRef classCode=\\\"AGNT\\\">\\n        <id root=\\\"7E2F4161-3345-4DB2-8871-9680C54B8961\\\"/>\\n    </agentRef>\\n</Participant>\\n    </NarrativeStatement>\\n</component>\\n    </CompoundStatement>\\n</component>\\n    </CompoundStatement>\\n</component>\\n    </ehrComposition>\\n</component></ehrFolder>\\n    </component>\\n    <inFulfillmentOf typeCode=\\\"FLFS\\\">\\n        <priorEhrRequest classCode=\\\"EXTRACT\\\" moodCode=\\\"RQO\\\">\\n            <id root=\\\"041CA2AE-3EC6-4AC9-942F-0F6621CC0BFC\\\" />\\n        </priorEhrRequest>\\n    </inFulfillmentOf>\\n    <limitation typeCode=\\\"LIMIT\\\" inversionInd=\\\"true\\\">\\n        <limitingEhrExtractSpecification classCode=\\\"OBS\\\" moodCode=\\\"DEF\\\">\\n            <id root=\\\"76C49C11-5271-11EA-9384-E83935108FD5\\\" />\\n            <code code=\\\"37241000000102\\\" codeSystem=\\\"2.16.840.1.113883.2.1.3.2.4.15\\\" displayName=\\\"Entire record available to originator (administrative concept)\\\" />\\n        </limitingEhrExtractSpecification>\\n    </limitation>\\n</EhrExtract>\\n\\n        </subject>\\n    </ControlActEvent>\\n</RCMR_IN030000UK06>\",\"attachments\":[],\"external_attachments\":[{\"description\":\"Filename=\\\"CB81819D-2CC5-418B-A04A-BEEC3DDC57A6.doc\\\" ContentType=application/msword Compressed=No LargeAttachment=No OriginalBase64=No Length=${LENGTH_PLACEHOLDER_ID=CB81819D-2CC5-418B-A04A-BEEC3DDC57A6}\",\"document_id\":\"_CB81819D-2CC5-418B-A04A-BEEC3DDC57A6\",\"message_id\":\"3FF09ED8-4520-4E40-A7FA-A53AE6705338\"},{\"description\":\"Filename=\\\"F36C5A20-3C77-4703-A52D-64C0DE1B860B.doc\\\" ContentType=application/msword Compressed=No LargeAttachment=No OriginalBase64=No Length=${LENGTH_PLACEHOLDER_ID=F36C5A20-3C77-4703-A52D-64C0DE1B860B}\",\"document_id\":\"_F36C5A20-3C77-4703-A52D-64C0DE1B860B\",\"message_id\":\"432CCD4C-3A50-4DE7-BEFC-4DE93D5BB583\"},{\"description\":\"Filename=\\\"655C2115-D70A-4A28-9EBD-16384909D5F4.doc\\\" ContentType=application/msword Compressed=No LargeAttachment=No OriginalBase64=No Length=15608\",\"document_id\":\"_655C2115-D70A-4A28-9EBD-16384909D5F4\",\"message_id\":\"0B822F79-3C89-41D8-B9D6-F0FD69A4112E\"}]}"), any(), any(), any());

    }
}